name: publish-pypi

on:
  workflow_call:
    inputs:
      pypi_repository_url:
        required: true
        type: string
    secrets:
      pypi_api_login:
        required: true
      pypi_api_password:
        required: true

jobs:
  publish-service-client-package:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Publish python poetry package
        uses: JRubics/poetry-publish@v1.16
        with:
          repository_url: ${{ inputs.pypi_repository_url }}
          repository_username: ${{ secrets.PYPI_LOGIN }}
          repository_password: ${{ secrets.PYPI_PASSWORD }}
            
